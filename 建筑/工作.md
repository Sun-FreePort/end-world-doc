### 工作

玩家可以开垦不动产，在一座不动产开垦完毕之前，再开垦新的不动产。

开垦好的不动产可以发布工作岗位，让其他玩家作为雇员（劳方），为自己（资方）产生剩余价值。

#### 雇佣

玩家可以将 **本地的、完工的不动产** 所具备的岗位，发布成招聘启事，这样该岗位就有其他玩家来应聘。

玩家需要设置一个薪酬额度，作为其他玩家的工作回报。薪资标准：

- 对同种建筑，每一地只能设置统一的薪资标准
- 薪资将在应聘时从老板账户中扣除
- 薪资将在完工时计入雇员账户中

#### 终止雇佣（Fake）

雇员/自己可以主动终止雇佣/工作，但要承担一定的后果：

- 如果是雇员，薪资为 `已工作小时 * 每小时薪资 - 一小时薪资`——薪资可能是负数。
- 如果是自己，产出为 `已工作小时 * 每小时产出 * 75%`

老板在面对市场价格波动、出售房产等需求时，可以终止雇佣合同，资方需有能力且承担以下要求：

- 若有雇员，雇员生产过程中断，资方获得的产出为`已工作小时 * 每小时产出 * 75%`
- 若有雇员，雇员获得 80% 的已工作小时收入和 100% 的终止雇佣补偿

老板也可以结束招聘启事，保证不会有人继续应聘。这种修改不影响已有的工作合约，故不存在补偿。

#### 一些备忘

截至目前，有一些问题暂停处理，直到时间充裕时，在考虑优化这些问题：

工作结束后，自动解除双方劳动关系。

玩家暂不能查看其他地区自己发布的招聘启事。

某地、某种建筑只能进行一种工作类型，譬如”为自己工作“时，该建筑无法切换到”发布公开招聘“的状态，后者牵连到税务等问题。

#### 属性（Job）
  
- **雇员的每小时收入**：雇员每小时能获得的现金收入
- **雇员的每小时产出**：雇员每小时为资方产出的物资数量
- **终止雇佣补偿**：当资方认为继续生产不利于自己时，主动终止所需对劳方的补偿

#### 程序备忘

作为雇员，在用户表冗余当前 work，每次和服务器交互时，根据冗余来触发 work 刷新机制。

作为老板，每 120s 检测自己名下的 Work 是否应该结算。

暂不考虑合约双方均不登录的情况，这部分工作放到僵尸角色清理脚本。

谨防 work 重复处理，处理时加一个原子锁。
